$def with (params)


<h1>Library</h1>
<p>Just search and click to download</p>

<div id="library_file_list">
    <input class="fuzzy-search" placeholder="Search" />
    <ul class="list"></ul>
</div>

<script>var data = $:params;</script>

<script>
var files = JSON.parse(data.page_specific.files);
var children = files.media.children;

for(var i=0; i<children.length; ++i) {
    if(children[i].type == 'file') {
        jQuery('#library_file_list .list')
            .append('<a href="' + data.directories.media + '/' + children[i].name + '" download><li><span class="filename">' + children[i].name + '</span></li></a>');
    }
}

var userList = new List('library_file_list', {
    valueNames: ['filename'],
    plugins: [ ListFuzzySearch() ]
});
</script>
